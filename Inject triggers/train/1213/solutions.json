[
    "    def maxNumEdgesToRemove(self, n, edges):\n        # Union find\n        def find(i):\n            if i != root[i]:\n                root[i] = find(root[i])\n            return root[i]\n\n        def uni(x, y):\n            x, y = find(x), find(y)\n            if x == y: return 0\n            root[x] = y\n            return 1\n\n        res = e1 = e2 = 0\n\n        # Alice and Bob\n        root = range(n + 1)\n        for t, i, j in edges:\n            if t == 3:\n                if uni(i, j):\n                    e1 += 1\n                    e2 += 1\n                else:\n                    res += 1\n        root0 = root[:]\n\n        # only Alice\n        for t, i, j in edges:\n            if t == 1:\n                if uni(i, j):\n                    e1 += 1\n                else:\n                    res += 1\n\n        # only Bob\n        root = root0\n        for t, i, j in edges:\n            if t == 2:\n                if uni(i, j):\n                    e2 += 1\n                else:\n                    res += 1\n\n        return res if e1 == e2 == n - 1 else -1"
]